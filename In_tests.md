### Список потенциально теплонагруженных компонентов плат (если упоминается проверка на нагрев, см сюда):
   - плата контроллера: L1, U5, IC1, U6, Q1, Q2, C6, C7, R8, R12, R13, D2, D5, U4, U7, U8, R9, R10
   - материнская плата: Q1, Q3, D11, D13, D12, U2, R2, F1, F2
   - симисторная плата: U3, U4, Q3, Q5, Q7, Q9, OC2, OC3, OC4, OC5, R12, R13, R16, R17, R20, R21, R24, R25, L1, C11, C12, C18, C19, C21, C22, C24, C25, C27, C28, Q4, Q6, Q8, Q10
   - плата цифровых вх\вых: U5, U7, U9, U6, U8, U10, U11, R22, R53, D9, D11-D19
   - плата аналоговых вх\вых: L1, U4, U6, Q1, Q2, R8, F2, F3, U5
   - плата шаговых двигателей: U5, U9, Q5, Q6, U6, U2G, U2A, U2C, U2D, OC1, Q10, Q11, Q12, Q13
   - плата ДПТ: U4, U2, U5, Q3-Q7, U7, R34, L1, D5, D6, D7, D12, D1
   - плата свето\фотодиодов: U11, R9, D1, D3, D5, D7, U1A, U1B, U1C, U1D
   - плата QR кодов: U2, U4-U8, Q2, Q3, L2, L3, C10, C12, C13, C19, C20, C21, C22, C23, C24, C25, C26, C35, C36

-------------------------------

### Во всех тестах задействованы материнская плата и плата контроллера, дальнейшие отличия в компоновке разделены на 5 групп:
   - Группа 1.1 - дискретная плата + плата ШД (УВТ)
   - Группа 1.2 - плата ШД, плата ДПТ, плата QR кодов (Нарезка)
   - Группа 1.3 - плата ШД, плата ДПТ (Упаковка)
   - Группа 1.4 - симисторная плата, плата аналоговых вх\вых (Печь)
   - Группа 1.5 - 2 симисторные платы + 2 платы аналоговых вх\вых + плата дискретных вх\вых + 2 платы ШД + 2 платы QR кодов + плата ДПТ

-------------------------------

**Шаги для подключения каждой из групп:**
0. Всё подключаемые разъёмы питания должны быть обесточены, пока не продекларировано обратное.

Основа
1. Материнская плата: подключить в разъём J26 плюсовой провод питания 24В, а в разъём J27 - минусовой.
2. Плата конроллера: подключить проводом Mini USB Type B плату к ПК.

#### Группа 1.1
**Плата цифровых вх\вых**
1. Подключить попарно (1 колодка - 1 спираль) спирали нагрузочного стенда в разъёмы J4-J9
2. В разъём J10 в соответствии с маркировкой на плате подключить провода питания 24В
3. В разъём J11 подключить плату светодиодов и фототранзисторов, (опционально) вторую плату для засветки первой подключить к контактам 9 - GND и 10 - +24В разъёма J11

**Плата шаговых двигателей**
1. В разъёмы J3-J6 подключить концевые выключатели (расположить плату таким образом, чтобы монтажные отверстия располагались слева, а клеммные колодки сверху). 1 контакт клеммы - GND, 2 - сигнальный, 3 и 4 - +24В, распиновка всех четырёхконтактных разъёмов идентична. 
2. Подключить в разъём J2 шаговые двигатели: расположение платы, как в предыдущем пункте, нумерация слева-направо. 1 - +24В, 2 - EN, 3 - +24В, 4 - DIR, 5 - +24В, 6 - STEP
3. Если требуется вторая плата ШД, повторить для неё шаги 3 и 4
#### Группа 1.2

**Плата шаговых двигателей**
1. В разъёмы J3-J6 подключить концевые выключатели (расположить плату таким образом, чтобы монтажные отверстия располагались слева, а клеммные колодки сверху). 1 контакт клеммы - GND, 2 - сигнальный, 3 и 4 - +24В, распиновка всех четырёхконтактных разъёмов идентична. 
2. Подключить в разъём J2 шаговые двигатели: расположение платы, как в предыдущем пункте, нумерация слева-направо. 1 - +24В, 2 - EN, 3 - +24В, 4 - DIR, 5 - +24В, 6 - STEP
3. Если требуется вторая плата ШД, повторить для неё шаги 3 и 4

**Плата ДПТ**
1. В разъём J2 подключить в соответствии с маркировкой на плате питающие провода +24В.
2. В разъём J3 подключить первый двигатель постоянного тока, в J4 - второй. Если направление вращение не соответствует ожиданиям, поменять провода в клеммнике местами. 
3. Если необходима для тестирования необходима вторая плата ДПТ, повторить шаги 7 и 8 для неё
4. Разложить все платы перед собой на столе и ещё раз проверить корректность подключений
5. Позвать ревьюера, чтобы ревьюер бегло проверил подключения на корректность
6. Воткнуть дочерние платы в материнскую плату, начать тест

**Плата QR-кодов**
1. В разъёмы J9 и J10 подключить сканеры QR кодов, (расположить плату таким образом, чтобы монтажные отверстия располагались слева, а клеммные колодки сверху). Нумерация контактов слева-направо. 1 - GND, 2 - TX, 3 - RX, 4 - VCC, у второй колодки точно также. 
#### Группа 1.3
см. п1.2 плата ШД + плата ДПТ

#### Группа 1.4

**Симисторная плата**
1. В разъём J6 подключить питание 230AC (провод до 1.5 кв.мм)
2. В разъёмы J2-J5 попарно (1 клемма - 1 спираль) подключаются спирали печи
3. Повторить шаги 1 и 2 для второй платы, если потребуется
**Плата аналоговых вх\вых** 
4. в разъёмы J7, J8 подключить датчики температуры (полярность неважна)
5. В разъём J4 подключить питание 230AC (провод до 1.5 кв.мм)
6. В разъёмы J5 и J6 подключить вентиляторы (полярность неважна)
7. В разъём J9 подключить датчик тока (полярность неважна), датчик тока в свою очередь повесить на фазный провод, от которого запитана печь
8. В разъём J11 подключить реле, которое расположено перед силовой частью печи

#### Группа 1.5
Эта группа состоит из:
- 2 симисторные платы
- 2 платы аналоговых вх\вых
- плата цифровых вх\вых
- 2 платы шаговых двигателей (ШД)
- 2 платы QR кодов
- плата двигателя постоянного тока (ДПТ)
подробности подключения можно найти в предыдущих пунктах

=====ВНИМАНИЕ=====
После подключения проводов периферии в платы, нужно выполнить следующие шаги:

1. Разложить все платы перед собой на столе и ещё раз проверить корректность подключений
2. Позвать ревьюера, чтобы ревьюер бегло проверил подключения на корректность
3. Воткнуть дочерние платы в материнскую плату, начать тест

### Сценарий 1: Тест логических уровней, обмена данными и синхронного управления RTS
\\1|

Номер группы подключений: 1.5

**Прошивки:**

**Master:**
- master_010
- master_011
- master_012
- master_013

**Slave:**
- slave_010
- slave_011
- slave_012
- slave_013

**Ожидаемые результаты:**

  - Уровни сигналов на линиях RTS и других цифровых интерфейсах соответствуют спецификациям (3.3В/5В).
  - Данные передаются между Master и Slave платами без потерь и искажений, о чем свидетельствует световая индикация на контроллере.
  - Все дочерние платы одновременно поднимают и опускают RTS по команде Master, синхронность в пределах нескольких миллисекунд.

**Шаги:**

1. Загрузить прошивку **master_010** в Master-плату
2. Загрузить прошивку **slave_010** во все дочерние платы
3. Подключить всё в соответствии со схемой группы 1.5
4. Подключить к USB порту Master-платы ПК и открыть терминал для обмена командами по UART
5. Подать питание 24В на материнскую плату (дождаться инициализации плат (4 раза мигнут диодом))

6. По готовности, отправить "s" в UART терминал (начнётся тест. 60 сек)
7. Мультиметром замерять напряжение на всех линиях RTS (между RTS и GND) по очереди в периоды, когда индикаторный светодиод на плате загорается, должно быть 3.3В ±0.2В, в периоды, когда светодиод не горит - должно быть 0В±0.2В.
8. На плате контроллера мультиметром замерить напряжение между 6 и 7 ножками компонента U1. Также замерить напряжение между пинами на коннекторе J1  (должно быть мин и макс: 0+-10% и 3.3В +-10% и среднее (idle): 1.65 +-10% В).
9. Щупами осциллографа попарно пройтись по всем линиям RTS (1+2, 2+3, 3+4 итд), записывать тип фронта (восходящий\нисходящий) и время в мс между фронтом с первого канала и второго.
10. Отключить питание 24В.

11. Загрузить в дочерние платы:
**slave_011_triac_load**
**slave_011_analog_load**
**slave_011_digit_load**
**slave_011_dc_load**
**slave_011_step_load**
**slave_011_QR_load**
а в Master плату - **master_011**
12. Вернуть сборку в состояние на п4.
13. Подать питание 24В.
14. Замерять напряжение на всех линиях RTS по очереди в периоды, когда индикаторный светодиод на плате загорается, должно быть 3.3В ±0.2В, в периоды, когда светодиод не горит - должно быть 0В±0.2В.
15. Отключить питание
16. Загрузить прошивку **slave_012...** в дочерние платы в соответствии с названиями прошивок, а в Master-плату - **master_012**
17. Подать питание 24В
18. Убедиться, что светодиод мигает с постоянной частотой
19. Отключить питание
20. Загрузить в дочерние платы:
**slave_013_triac_load**
**slave_013_analog_load**
**slave_013_digit_load**
**slave_013_dc_load**
**slave_013_step_load**
**slave_013_QR_load**
а в Master плату - **master_013**
21. Убедиться, что светодиод мигает с постоянной частотой
22. Отключить питание
23. Проверить состояние компонентов плат (пирометром\тепловизором) - схема компонентов в графическом виде приведёна в приложении 1. Если компонент нагрет выше 50°C, пометить его на схеме.


### Сценарий 2: Тестирование сборки плат под номинальной нагрузкой (реальные режимы)
\\2|

Номера групп подключений: 1.1, 1.2, 1.3, 1.4

**Прошивки:**

**Master:**
- master_020

**Slave:**
- slave_020

**Ожидаемые результаты:**
- Стабильная работа всех модулей при номинальных нагрузках.
- Корректная работа всех исполнительных устройств (моторы, нагреватели, датчики).
- Отсутствие перегрева и срабатываний защит.

**Шаги:**
1. Загрузить прошивку **master_020** в Master-плату.
2. Загрузить в дочерние платы прошивки: 
**slave_021_digit_load**
**slave_021_step_load**

УВТ

3. Подключить компоненты согласно схеме подключения 1.1
4. Подключить к USB порту Master-платы ПК и открыть терминал для обмена командами по UART
5. Подать питание 24В на материнскую плату (дождаться инициализации плат (4 раза мигнут диодом))
6. Замерить напряжение на контактах J26\J27 материнской платы (24В±5%)
7. По готовности, отправить "s" в UART терминал (старт теста)
8. Последовательно засветить все фототранзисторы
9. Замерить ток токовыми клещами на проводах, идущих к нагрузочным спиралям (должны быть порядка 1А±5%)
10. Последовательно нажать на 4 концевика (ШД должен изменить направление вращения)
11. Повторить нажатие на 4 концевика (ШД должен остановиться)
12. Индикаторные светодиоды зажглись - тест пройден.
13. Снять питание с линии 24В

Нарезка
1. Подключить компоненты согласно схеме подключения 1.2
2. Загрузить в дочерние платы прошивки:
- **slave_022_step_load**
- **slave_022_dc_load**
- **slave_022_QR_load**
3. Подать питание 24В на материнскую плату (дождаться инициализации плат (4 раза мигнут диодом))
4. Замерить напряжение на контактах J26\J27 материнской платы (24В±5%)
5. По готовности, отправить "s" в UART терминал (старт теста)
6. Нажимать на концевики в случайном порядке (ШД должны замирать)
7. Показать QR код в считыватель (желательно во время работы ШД и ДПТ)
8. Индикаторные светодиоды зажглись - тест пройден.
9. Снять питание с линии 24В

Упаковка
1. Подключить компоненты согласно схеме подключения 1.3
2. Загрузить в дочерние платы прошивки:
- **slave_023_step_load**
- **slave_023_dc_load**
3. Подать питание 24В на материнскую плату (дождаться инициализации плат (4 раза мигнут диодом))
4. Замерить напряжение на контактах J26\J27 материнской платы (24В±5%)
5. По готовности, отправить "s" в UART терминал (старт теста)
6. Нажать 1 или 2 концевик (ШД должен изменить направление вращения)
7. Нажать 3 или 4 концевик (ДПТ должен изменить направление вращения)
8. Индикаторные светодиоды зажглись - тест пройден.
9. Снять питание с линии 24В

Печь
1. Подключить компоненты согласно схеме подключения 1.4
2. Загрузить в дочерние платы прошивки:
- **slave_024_triac_load**
- **slave_024_analog_load**
3. Подать питание 24В на материнскую плату (дождаться инициализации плат (4 раза мигнут диодом))
4. Замерить напряжение на контактах J26\J27 материнской платы (24В±5%)
5. Поднять автоматический выключатель, ответственный за питание спиралей печи.
6. Отправить команду "r", в ответ придёт текущие значения температуры и тока (ток должен быть около 0А, температура близка к комнатной)
7. По готовности, отправить "s" в UART терминал (старт теста)
8. Снять замер токовыми клещами с того же провода, на котором висит датчик тока (после получения в терминале первых значений отличных от нуля). Ток должен ступенчато изменяться в диапазоне 0-5А
9. Отключить питание
10. Индикаторные светодиоды зажглись - тест пройден.


### Сценарий 3: Тестирование сборки плат под максимально допустимой нагрузкой (сборка MAX) + влияние на датчики + влияние на сигнальные линии
\\3|

Номер группы подключений: 1.5

**Прошивки\функции:**

**Master:**
- master_030

**Slave:**
- slave_030

**Ожидаемые результаты:**
- Стабильная работа системы при одновременной максимальной загрузке всех исполнительных механизмов (двигатели, нагреватели) и датчиков.
- Минимальное влияние силовых потребителей на точность показаний датчиков.
- Отсутствие искажений и помех на сигнальных линиях, связанных с работой силовых элементов.

**Шаги:**
1. Загрузить прошивку **master_030** в Master-плату.
2. Загрузить в дочерние платы прошивки: 
**slave_030_triac_load**
**slave_030_analog_load**
**slave_030_digit_load**
**slave_030_dc_load**
**slave_030_step_load**
**slave_030_QR_load**

3. Подключить компоненты согласно схеме подключения 1.5, подключить 2 платы светодиодов\фототранзисторов, скрепить их между собой таким образом, чтобы светодиоды одной платы были направлены на фототранзисторы другой платы, при этом сохранялась бы возможность вставлять перегородку из любого плотного листового материала
4. Подключить к USB порту Master-платы ПК и открыть терминал для обмена командами по UART
5. Подать питание 24В на материнскую плату (дождаться инициализации плат (4 раза мигнут диодом))
6. Замерить напряжение на контактах J26\J27 материнской платы (24В±5%)
7. Отправить команду "r", в ответ придёт текущие значения температуры и тока (ток должен быть около 0А, температура близка к комнатной)
8. По готовности, отправить "s" в UART терминал (старт теста)
9. После того, как индикаторные светодиоды на платах начнут плавно мигать - замерить ток токовыми клещами, сравнить со значениями в терминале (выписать оба значения)
10. Проверить состояние компонентов плат (пирометром\тепловизором) - схема компонентов в графическом виде приведёна в приложении 1. Если компонент нагрет выше 50°C, пометить его на схеме.
11. Подождать 10 минут, чтобы остудить спирали и платы

12. Отправить команду "r", сравнить со значениями, полученными на шаге 7 (расхожение в пределах 5% допустимо)
13. Отправить команду "s"
14. Ожидать завершения 2й итерации нагрузочного тестирования (±2 мин)
15. Проверить состояние компонентов плат (пирометром\тепловизором) - схема компонентов в графическом виде приведёна в приложении 1. Если компонент нагрет выше 50°C, пометить его на схеме.
16. Подождать 10 минут, чтобы остудить спирали и платы

17. Отправить следующий сигнал на старт
18. Ожидать завершения 3й итерации нагрузочного тестирования (±2 мин)
19. Проверить состояние компонентов плат (пирометром\тепловизором) - схема компонентов в графическом виде приведёна в приложении 1. Если компонент нагрет выше 50°C, пометить его на схеме.
20. Пульсы индикаторного светодиода по 2 сек сигнализируют об успешном прохождении теста, пульсы по 5 сек - провал -> см логи.
21. Снять питания с линии 24В.

22. Загрузить прошивку **master_031** в Master-плату.
23. Подключить к USB порту Master-платы ПК и открыть терминал для обмена командами по UART
24. Подать питание 24В на материнскую плату (дождаться инициализации плат (4 раза мигнут диодом))
25. Замерить напряжение на контактах J26\J27 материнской платы (24В±5%)

26. По готовности, отправить "s" в UART терминал (старт теста)
27. Ожидать завершения первой итерации (±2 мин)
28. Подождать 10 минут, чтобы остудить спирали и платы
29. Отправить следующий сигнал на старт
30. Ожидать завершения второй итерации (±2 мин)
31. Подождать 10 минут, чтобы остудить спирали и платы
32. Отправить следующий сигнал на старт
33. Ожидать завершения последней итерации (±2 мин)
34. Характери морганиния светодиодов на Master плате сообщит об успешности прохождения теста. пульсы по 2 сек - успех, по 5 сек - провал.
35. Снять питание 24В.



### Сценарий 4: Проверка устойчивости при колебаниях напряжения + при экстремальных отклонениях + обратной полярности
\\4|

Номер группы подключений: 1.5

**Прошивки\функции:**

**Master:**
- master_040

**Slave:**
- slave_040

**Ожидаемые результаты:**

 - Стабильная работа системы в диапазоне ±5% от номинального напряжения (22.8В - 25.2В). Показания датчиков должны отклоняться не более чем на 2% от значений, измеренных при 24В.
- Срабатывание защиты при ±25% отклонения напряжения, без повреждений компонентов.
- Срабатывание защиты от обратной полярности, компоненты не повреждены.
- В случае обратной полярности все системы должны отключиться, не должно быть белого дыма.

**Шаги:**

1. Загрузить прошивку master_040 в Master-плату
2. Загрузить в дочерние платы:
**slave_040_triac**
**slave_040_analog**
**slave_040_digit**
**slave_040_dc**
**slave_040_step**
**slave_040_QR**
3. Подключить всё в соответствии со схемой группы 1.5
4. Подключить к USB порту Master-платы ПК и открыть терминал для обмена командами по UART
5. Перед подачей питания потренироваться вращать ручку изменения напряжения в заданных пределах (22-26В)
6. Подать питание 24В на материнскую плату (дождаться инициализации плат (4 раза мигнут диодом))
7. Отправить команду "r", в ответ придёт текущие значения температуры и тока (ток должен быть около 1А, температура близка к комнатной)
8. Значения датчиков зафиксировать, как эталонные
9. По готовности, отправить "s" в UART терминал (начнётся тест. 60 сек)
10. Ожидать 60 сек
11. Отправить "s" ещё раз
12. Плавно изменять уровень напряжения в диапазоне 22-26В на протяжении 60 сек
13. Наблюдать, изменилось ли поведение в сравнении с предыдущей итерацией (субъективные ощущения: быстрее\медленнее, ярче\тусклее etc)
14. По завершении теста выставить 24В
15. Отправить команду "r" ещё раз, сравнить с эталонными значениями (пункт 8). Допустимое отклонение 5%
16. Снять питание
17. Выставить напряжение 18В
18. Подать питание на материнскую плату
19. Отправить "s" ещё раз 
20. Наблюдать, изменилось ли поведение в сравнении с предыдущей итерацией (субъективные ощущения: быстрее\медленнее, ярче\тусклее etc). Запустилось ли вообще. 
21. Отправить команду "r" ещё раз, сравнить с эталонными значениями (пункт 8). Допустимое отклонение 5%
22. Снять питание
23. Выставить напряжение 30В
24. Подать питание на материнскую плату
25. Если ничего не вспыхнуло и не задымилось - ожидать 60 сек, иначе снять питание сразу
26. Мультиметром замерить напряжение после предохранителей F1 и F2 (должно быть 0V)
26. Снять питание
27. Мультиметром в режиме прозвонки убедиться, что предохранители F1 и F2 перегорели
28. Вставить новые предохранители на 5А
29. Выставить напряжение на ИП 24В
30. Подать питание на материнскую плату
31. Отправить "s" ещё раз
32. Ожидать 60 сек
33. Отправить команду "r" ещё раз, сравнить с эталонными значениями (пункт 8). Допустимое отклонение 5%
34. Снять питание
35. Поменять полярность на источнике питания
36. Подать питание 
38. Если ничего не вспыхнуло и не задымилось - ожидать 60 сек, иначе снять питание сразу
39. Мультиметром замерить напряжение после предохранителей F1 и F2 (должно быть 0V)
40. Снять питание

### Сценарий 5: Тесты внезапных отключений
\\5|

Номер группы подключений: 1.5

**Прошивки\функции:**

**Master:**
**master_050**

**Slave:**
**slave_050_triac_load**
**slave_050_analog_load**
**slave_050_digit_load**
**slave_050_dc_load**
**slave_050_step_load**
**slave_050_QR_load**

**Ожидаемые результаты:**
- Отключения не влияют на работоспособность

**Шаги:**
1. Загрузить прошивку **master_050** в Master-плату.
2. Загрузить в дочерние платы прошивки: 
**slave_050_triac_load**
**slave_050_analog_load**
**slave_050_digit_load**
**slave_050_dc_load**
**slave_050_step_load**
**slave_050_QR_load**
3. Подключить все необходимые компоненты согласно схеме подключения группы 1.5, расположить термопары изолировано от нагревательных приборов
4. Подать питание 24В на материнскую плату
\\5.1.1|
5. После того, как все платы моргнут светодиодом - отключить питание материнской платы на 10 сек 
6. Вернуть питание 24В
7. Подать питание 230В на контакты J5 и J6 аналоговой платы, на контакты J2 и J3 симисторной платы
8. Открыть UART терминал
9. Отправить команду "r", в ответ придёт текущие значения температуры и тока (зафиксировать значение)
10. Проверить состояние компонентов плат (пирометром\тепловизором) - схема компонентов в графическом виде приведёна в приложении 1. Если компонент нагрет выше 50°C, пометить его на схеме.
\\5.1.2|
11. Отправить команду "s" в UART терминал и сразу же после отправки - извлечь плату контроллера из слота
12. Отключить питание 24В на 5-10 сек (все последующие фразы "Отключить питание 24В" относятся только к материнской плате, пока не продекларировано обратное)
13. Вернуть питание 24В. Дождаться инициализации дочерних плат (4 пульса индикаторного светодиода на каждой дочерней плате)
14. Отправить команду "r", в ответ придёт текущие значения температуры и тока (сравнить значение с предыдущим. Допустимое расхождение в пределах 2%). 
15. Ещё раз посмотреть на платы через тепловизор
\\5.1.3|
16. Отправить команду "s" в UART терминал, подождать 15 сек и отключить питание 24В на 5-10 сек
17. Вернуть питание 24В. Дождаться инициализации дочерних плат
18. Отправить команду "r", в ответ придёт текущие значения температуры и тока (сравнить значение с предыдущим. Допустимое расхождение в пределах 2%)
19. Ещё раз посмотреть на платы через тепловизор
\\5.1.4|
20. Отправить команду "s" в UART терминал, подождать 30 сек и отключить питание 24В на 5-10 сек
21. Вернуть питание 24В. Дождаться инициализации дочерних плат
22. Отправить команду "r", в ответ придёт текущие значения температуры и тока (сравнить значение с предыдущим. Допустимое расхождение в пределах 2%)
23. Ещё раз посмотреть на платы через тепловизор
24. Отключить питание 24В
26. Загрузить прошивку **master_050_RTS_changer** в Master-плату.
27. Загрузить в дочерние платы прошивки: 
**slave_050_triac_RTS_changer**
**slave_050_analog_RTS_changer**
**slave_050_digit_RTS_changer**
**slave_050_dc_RTS_changer**
**slave_050_step_RTS_changer**
**slave_050_QR_RTS_changer**
28. Подать питание 24В
29. Отправить команду "r", в ответ придёт текущие значения температуры и тока (сравнить значение с предыдущим. Допустимое расхождение в пределах 2%). 
30. Ещё раз посмотреть на платы через тепловизор
\\5.1.5|
31. Отправить команду "s" в UART терминал
32. Когда индикаторные светодиоды на платах начнут перемигиваться - отключить питание 24В на 5-10 сек
33. Вернуть питание 24В (если индикаторные светодиоды на дочерних платах мигнули 4 раза - PASS)
34. Отключить питание 24В
\\5.1.6|
35. Загрузить прошивку **slave_050_step_acc** в плату ШД
36. Подать питание 24В
37. Подготовить секундомер
38. Одновременно нажать "старт" на секундомере и отправить команду "s" в UART терминал
39. На 8-9 секунде (3й пульс индикаторного светодиода) отключить питание 24В
40. Вернуть питание 24В (если индикаторные светодиоды на дочерних платах мигнули 4 раза - PASS)
41. Отключить питание 24В
\\5.1.7|
42. Залить в плату ШД прошивку **slave_050_step_RTS_changer**, а в плату ДПТ - **slave_050_dc_acc**
43. Подать питание 24В
44. Подготовить секундомер
45. Одновременно нажать "старт" на секундомере и отправить команду "s" в UART терминал
46. На 8-9 секунде (3й пульс индикаторного светодиода) отключить питание 24В
47. Вернуть питание 24В (если индикаторные светодиоды на дочерних платах мигнули 4 раза - PASS)
48. Отключить питание 24В
\\5.1.8|
49. Залить в симисторную плату **slave_050_triac**, а в плату ДПТ - **slave_050_dc_RTS_changer**
50. Подать питание 24В
51. Подготовить секундомер
52. Одновременно нажать "старт" на секундомере и отправить команду "s" в UART терминал
53. На 8-9 секунде (3й пульс индикаторного светодиода) отключить питание 24В
54. Вернуть питание 24В (если индикаторные светодиоды на дочерних платах мигнули 4 раза - PASS)
\\5.1.9|
\\5.2.1|
55. Ещё раз отправить команду "s" в UART терминал
56. Отсчитать 5-6 секунд и отключить автоматический выключатель печи
57. Через 10 секунд после отключения автомата отключить питание 24В
58. Вернуть питание 24В (если индикаторные светодиоды на дочерних платах мигнули 4 раза - PASS)
59. Отключить питание 24В
60. Залить в аналоговую плату **slave_050_analog**, а в симисторную плату - **slave_050_triac_RTS_changer**
61. Подать питание 24В
62. Отправить команду "s" в UART терминал
63. После звука сработки реле (или на 3й пульс) - отключить питание 24В
64. Вернуть питание 24В (если индикаторные светодиоды на дочерних платах мигнули 4 раза - PASS)
65. Вновь отправить команду "s" в UART терминал
\\5.2.2|
66. Отсчитать 5-6 сек и отключить автоматический выключатель 230В, питающий вентиляторы
67. Через 10 секунд после отключения автомата отключить питание 24В
68. Вернуть питание 24В (если индикаторные светодиоды на дочерних платах мигнули 4 раза - PASS)
69. Отключить питание 24В
70. Подключить терминал к внешнему RS Master-платы
71. Загрузить прошивку **master_050_RS_talker** в Master-плату.
72. Загрузить в дочерние платы прошивки: 
**slave_050_triac_RS_talker**
**slave_050_analog_RS_talker**
**slave_050_digit_RS_talker**
**slave_050_dc_RS_talker**
**slave_050_step_RS_talker**
**slave_050_QR_RS_talker**
73. Подать питание 24В
\\5.1.10|
74. Отправить команду "s" в UART терминал
75. После получения первых сообщений в терминал по внешнему RS - отключить питание 24В
76. Вернуть питание 24В
77. Восстановить подключение к терминалу внешнего RS
78. Вновь отправить команду "s"
79. Если строки ± похожи на то, что получалось в предыдущей итерации - PASS
\\5.1.11|
80. Нажать на концевик (из платы ШД торчат) и одновременно отключить питание 24В (концевик не отпускать)
81. Вернуть питание 24В
82. Восстановить подключение к терминалу внешнего RS
83. Вновь отправить команду "s"
84. Убедиться, что бит, отвечающий за плату ШД находится в состоянии сработки (1)
85. Отпустить концевик
86. Убедиться, что биты, отвечающие за плату ШД и дискретную плату находится в открытом состоянии (0)
88. Отключить питание 24В
\\5.1.12|
89. Перекрыть фототранзисторы (сработать)
90. Вернуть питание 24В
91. Восстановить подключение к терминалу внешнего RS
92. Убедиться, что бит, отвечающий за дискретную плату находится в состоянии сработки (1)
93. Устранить препятствие, мешающее фототранзисторам
94. Убедиться, что бит, отвечающий за дискретную плату находится в открытом состоянии (0)
95. Отключить питание 24В
96. Повторить шаги с 1 по 10 (значения со всех датчиков зафиксировать)
\\5.1.13|
97. Отправить команду "s" в UART терминал 
98. Подождать 15-20 сек и полностью обесточить сборку минимум на 12 часов
99. Повторить шаги 4-10
100. Сравнить со значениями до отключения
101. Повторить шаги 13-24, сравнить со значениями, полученными в ходе первого прохода
102. Вернуть питание 24В
\\5.2.4|
103. Отправить команду "s" в UART терминал 
104. Через 15-20 сек полностью обесточить всю сборку
105. Ждать 2 мин
106. Вернуть всё питание
107. Отправить команду "r" в UART терминал, сравнить текущие значения с значениями до отключения
108. Отключить питание 24В.
109. В плату ДПТ загрузить прошивку **slave_051_dc_load**, а в дискретную плату **slave_051_digit_load**
110. Вернуть питание 24В
\\5.1.14|
111. Отправить команду "s" в UART терминал
112. Через 10 сек после старта на протяжении 20 сек отключать\подключать провод +24В, идущий к силовому блоку питания
113. Надёжно зафиксировать провод 24В
114. Отправить команду "s" в UART терминал ещё раз (если ДПТ плавно разгоняется на протяжении 30 сек, - PASS)
\\5.1.15|
115. Извлечь провод +24В из под прижимной пружины и аккуратно приложить его к проводящей части клеммника для имитации плохого контакта
116. Отправить команду "s" в UART терминал (записывать видео, чтоб было видно терминал и фактическое состояние фототранзисторов (закрыты\открыты))
117. Переводить фототранзисторы в состояние сработки\несработки + отключать\подключать провод +24В, идущий к силовому блоку питания 30 сек
118. Соотнести действительное состояние фототранзисторов в моменте со значениями в терминале
119. Полностью обесточить сборку
\\5.1.16|
\\5.1.17|
120. Повторить шаги с 1 по 10
121. Извлечь 2 провода +24В: силовой и логический из под прижимной пружины и аккуратно приложить их к проводящей части клеммника для имитации плохого контакта
122. Отправить команду "s" в UART терминал
123. Подключать\отключать 2 провода +24В: силовой и логический на протяжении 30 сек
124. Зафиксировать 2 провода +24В: силовой и логический
125. Отправить команду "s" в UART терминал (если индикаторные светодиоды на дочерних платах плавно переливаются, а нагрузка ведёт себя ожидаемым образом - PASS)
126. Полностью обесточить сборку
\\5.2.3|
127. Залить в дочерние платы **slave_051_NOTHING**
128. Вернуть питание 24В
129. После того, как индикаторные светодиоды на дочерних платах моргнут 3 раза + 5 сек - полностью обесточить сборку
130. Повторить шаги 4-24, если результаты повторят предыдущие в пределах 2% - PASS



### Сценарий 6: Механические тесты
\\6|

Номер группы подключений: 1.5

**Прошивки\функции:**

**Master:**
- `init_func`

**Slave:**
- `child_init`

**Ожидаемые результаты:**

- После 50 циклов подключения и отключения плат разъемы не повреждены
- После имитации транспортировки, система работает стабильно, разъемы и крепления не разболтались
- Осевая нагрузка на платы не нарушает целостность дорожек

**Шаги:**
Широкими мазками
Подключить платы по группе 1.5
Поместить на вибростенд сборку
Провести тестирование передачи данных и нагрузки (снять показания датчиков тока и температуры, slave_parad)
Вибрировать пару часов
Провести тесты ещё раз
по 50 раз достать и воткнуть обратно каждую из плат
Провести тесты ещё раз
Отключить питание
Пальцами изгибать каждую вставленную в материнку плату взявшись за уголки


