### Список потенциально теплонагруженных компонентов плат (если упоминается проверка на нагрев, см сюда):
   - плата контроллера: L1, U5, IC1, U6, Q1, Q2, C6, C7, R8, R12, R13, D2, D5, U4, U7, U8, R9, R10
   - материнская плата: Q1, Q3, D11, D13, D12, U2, R2, F1, F2
   - симисторная плата: U3, U4, Q3, Q5, Q7, Q9, OC2, OC3, OC4, OC5, R12, R13, R16, R17, R20, R21, R24, R25, L1, C11, C12, C18, C19, C21, C22, C24, C25, C27, C28, Q4, Q6, Q8, Q10
   - плата цифровых вх\вых: U5, U7, U9, U6, U8, U10, U11, R22, R53, D9, D11-D19
   - плата аналоговых вх\вых: L1, U4, U6, Q1, Q2, R8, F2, F3, U5
   - плата шаговых двигателей: U5, U9, Q5, Q6, U6, U2G, U2A, U2C, U2D, OC1, Q10, Q11, Q12, Q13
   - плата ДПТ: U4, U2, U5, Q3-Q7, U7, R34, L1, D5, D6, D7, D12, D1
   - плата свето\фотодиодов: U11, R9, D1, D3, D5, D7, U1A, U1B, U1C, U1D
   - плата QR кодов: U2, U4-U8, Q2, Q3, L2, L3, C10, C12, C13, C19, C20, C21, C22, C23, C24, C25, C26, C35, C36

-------------------------------

### Во всех тестах задействованы материнская плата и плата контроллера, дальнейшие отличия в компоновке разделены на 5 групп:
   - Группа 1.1 - дискретная плата + плата ШД (УВТ)
   - Группа 1.2 - плата ШД, плата ДПТ, плата QR кодов (Нарезка)
   - Группа 1.3 - плата ШД, плата ДПТ (Упаковка)
   - Группа 1.4 - симисторная плата, плата аналоговых вх\вых (Печь)
   - Группа 1.5 - 2 симисторные платы + 2 платы аналоговых вх\вых + плата дискретных вх\вых + 2 платы ШД + 2 платы QR кодов + плата ДПТ

-------------------------------

**Шаги для подключения каждой из групп:**
1. Всё подключаемые разъёмы питания должны быть обесточены, пока не продекларировано обратное.

Основа
1. Материнская плата: подключить в разъём J26 плюсовой провод питания 24В, а в разъём J27 - минусовой.
2. Плата конроллера: подключить проводом Mini USB Type B плату к ПК.

#### Группа 1.1
**Плата цифровых вх\вых**
1. Подключить попарно (1 колодка - 1 спираль) спирали нагрузочного стенда в разъёмы J4-J9
2. В разъём J10 в соответствии с маркировкой на плате подключить провода питания 24В
3. В разъём J11 подключить плату светодиодов и фототранзисторов, (опционально) вторую плату для засветки первой подключить к контактам 9 - GND и 10 - +24В разъёма J11

**Плата шаговых двигателей**
1. В разъёмы J3-J6 подключить концевые выключатели (расположить плату таким образом, чтобы монтажные отверстия располагались слева, а клеммные колодки сверху). 1 контакт клеммы - GND, 2 - сигнальный, 3 и 4 - +24В, распиновка всех четырёхконтактных разъёмов идентична. 
2. Подключить в разъём J2 шаговые двигатели: расположение платы, как в предыдущем пункте, нумерация слева-направо. 1 - +24В, 2 - EN, 3 - +24В, 4 - DIR, 5 - +24В, 6 - STEP
3. Если требуется вторая плата ШД, повторить для неё шаги 3 и 4
#### Группа 1.2

**Плата шаговых двигателей**
1. В разъёмы J3-J6 подключить концевые выключатели (расположить плату таким образом, чтобы монтажные отверстия располагались слева, а клеммные колодки сверху). 1 контакт клеммы - GND, 2 - сигнальный, 3 и 4 - +24В, распиновка всех четырёхконтактных разъёмов идентична. 
2. Подключить в разъём J2 шаговые двигатели: расположение платы, как в предыдущем пункте, нумерация слева-направо. 1 - +24В, 2 - EN, 3 - +24В, 4 - DIR, 5 - +24В, 6 - STEP
3. Если требуется вторая плата ШД, повторить для неё шаги 3 и 4

**Плата ДПТ**
1. В разъём J2 подключить в соответствии с маркировкой на плате питающие провода +24В.
2. В разъём J3 подключить первый двигатель постоянного тока, в J4 - второй. Если направление вращение не соответствует ожиданиям, поменять провода в клеммнике местами. 
3. Если необходима для тестирования необходима вторая плата ДПТ, повторить шаги 7 и 8 для неё
4. Разложить все платы перед собой на столе и ещё раз проверить корректность подключений
5. Позвать ревьюера, чтобы ревьюер бегло проверил подключения на корректность
6. Воткнуть дочерние платы в материнскую плату, начать тест

**Плата QR-кодов**
1. В разъёмы J9 и J10 подключить сканеры QR кодов, (расположить плату таким образом, чтобы монтажные отверстия располагались слева, а клеммные колодки сверху). Нумерация контактов слева-направо. 1 - GND, 2 - TX, 3 - RX, 4 - VCC, у второй колодки точно также. 
#### Группа 1.3
см. п1.2 плата ШД + плата ДПТ

#### Группа 1.4

**Симисторная плата**
1. В разъём J6 подключить питание 230AC (провод до 1.5 кв.мм)
2. В разъёмы J2-J5 попарно (1 клемма - 1 спираль) подключаются спирали печи
3. Повторить шаги 1 и 2 для второй платы, если потребуется
**Плата аналоговых вх\вых** 
4. в разъёмы J7, J8 подключить датчики температуры (полярность неважна)
5. В разъём J4 подключить питание 230AC (провод до 1.5 кв.мм)
6. В разъёмы J5 и J6 подключить вентиляторы (полярность неважна)
7. В разъём J9 подключить датчик тока (полярность неважна), датчик тока в свою очередь повесить на фазный провод, от которого запитана печь
8. В разъём J11 подключить реле, которое расположено перед силовой частью печи

#### Группа 1.5
Эта группа состоит из:
- 2 симисторные платы
- 2 платы аналоговых вх\вых
- плата цифровых вх\вых
- 2 платы шаговых двигателей (ШД)
- 2 платы QR кодов
- плата двигателя постоянного тока (ДПТ)

аналоговая плата включается во 2-й слот (ближайший к управляющей плате)

подробности подключения можно найти в предыдущих пунктах

=====ВНИМАНИЕ=====
После подключения проводов периферии в платы, нужно выполнить следующие шаги:

1. Разложить все платы перед собой на столе и ещё раз проверить корректность подключений
2. Позвать ревьюера, чтобы ревьюер бегло проверил подключения на корректность
3. Воткнуть дочерние платы в материнскую плату, начать тест

### Сценарий 1: Тест логических уровней, обмена данными и синхронного управления RTS
\\1|

Номер группы подключений: 1.5

**Прошивки:**

**Master:**
- master_010
- master_011
- master_012
- master_013

**Slave:**
- slave_010
- slave_011
- slave_012
- slave_013

**Ожидаемые результаты:**

  - Уровни сигналов на линиях RTS и других цифровых интерфейсах соответствуют спецификациям (3.3В/5В).
  - Данные передаются между Master и Slave платами без потерь и искажений, о чем свидетельствует световая индикация на контроллере.
  - Все дочерние платы одновременно поднимают и опускают RTS по команде Master, синхронность в пределах нескольких миллисекунд.

**Шаги:**

1. Загрузить прошивку **master_010** в Master-плату
2. Загрузить прошивку **slave_010** во все дочерние платы
3. Подключить всё в соответствии со схемой группы 1.5
4. Подключить к USB порту Master-платы ПК и открыть терминал для обмена командами по UART
5. Подать питание 24В на материнскую плату; на управляющей плате LED1 должен мигать 10 раз в секунду
6. Мультиметром замерять напряжение на всех линиях RTS (между RTS и GND). Когда LED2 светится, должно быть 3.3В+-0.2В, когда LED2 выключен, должно быть 0В±0.2В.
7. На плате контроллера мультиметром замерить напряжение между 6 и 7 ножками компонента U1. Также замерить напряжение между пинами на коннекторе J1  (должно быть мин и макс: 0+-10% и 3.3В +-10% и среднее (idle): 1.65 +-10% В).
8. Отключить питание 24В.

9. Загрузить в дочерние платы:
**slave_011_triac_load**
**slave_011_analog_load**
**slave_011_digit_load**
**slave_011_dc_load**
**slave_011_step_load**
**slave_011_QR_load**
10. Вернуть сборку в состояние на п4.
11. Повесить щупы осциллографа на сигнальные линии (2 контакт) клеммных колодок J3-J6 платы ШД и во время работы нагрузок поочерёдно перемещать между сигнальными контактами
12. Подать питание 24В; на управляющей плате LED1 должен мигать 10 раз в секунду
13. Мультиметром замерять напряжение на всех линиях RTS (между RTS и GND). Когда LED2 светится, должно быть 3.3В+-0.2В, когда LED2 выключен, должно быть 0В±0.2В.
14. Отключить питание
15. Загрузить во все дочерние прошивку **slave_parad**
в Master-плату - **master_012**
16. Подать питание 24В
17. LED1 на мастер плате должен мигать 10 раз в секунду; проверять не менее 10 секунд
18. Отключить питание
19. Загрузить в дочерние платы:
**slave_013_triac_load**
**slave_013_analog_load**
**slave_013_digit_load**
**slave_013_dc_load**
**slave_013_step_load**
**slave_013_QR_load**
в Master оставить **master_012**
20. Подать питание 24В
21. LED1 на мастер плате должен мигать 10 раз в секунду; проверять не менее 10 секунд
22. Отключить питание
23. Проверить состояние компонентов плат (пирометром\тепловизором) - схема компонентов в графическом виде приведёна в приложении 1. Если компонент нагрет выше 50°C, пометить его на схеме.
\\1.1|
24. Загрузить в дочерние платы:
в обе ШД - **slave_014_step_load**
в дискретную - **slave_014_di_load**
**slave_014_triac_noise**:
**slave_014_analog_noise**:
**slave_014_dc_noise**:
**slave_QR_load**:
в Master плату - **master_014**
25. Все концевики на обеих платах ШД должны быть разомкнуты (нет ничего в зазоре)
26. Все оптопары led плат должны быть разомкнуты (нет ничего в зазоре)
27. Подать питание 24В
28. LED1 на управляющей плате должен мигать 10 раз в секунду; проверять не менее 10 секунд
29. Отправить 'c' в отладочный терминал
30. LED1 на управляющей плате должен мигать 1 раз в секунду
31. Заклеить все концевики обеих ШД (поместить в зазор скотч) - светодиод на каждом концевике должен переключиться
32. Заклеить все оптопары led плат (заклеить скотчем отверстия фототранзисторов)
33. Отправить 'c' в отладочный терминал
34. LED1 на управляющей плате должен мигать 10 раз в секунду; проверять не менее 10 секунд
35. Отключить питание
\\1.2|
36. Загрузить в дочерние платы:
**slave_015_triac** в одну (любую) симисторную
**slave_015_2_triac** в оставшуюся симисторную
**slave_015_analog** в аналоговую, подключённую во 2-й слот материнки (ближайшую к управляющему контроллеру)
**slave_015_2_analog** в оставшуюся аналоговую
в Master плату - **master_015**
на остальных оставить предыдущие прошивки
37. Подать питание 24В
38. LED1 на управляющей плате должен мигать 10 раз в секунду
39. Не дольше чем через 45 секунд LED1 на управляющей плате должен светиться постоянно
40. Отключить питание
\\1.3|
41. Загрузить в дочерние платы:
**slave_016_triac_noise**
**slave_016_analog** в аналоговую, к которой подключены датчики температуры
**slave_016_2_analog** в оставшуюся аналоговую
**slave_016_digit_noise**
**slave_016_dc_noise**
**slave_016_step_noise**
**slave_QR_load**
в Master плату - **master_016**
42. Закрепить первый датчик на холодном предмете, второй - на горячем
43. Подать питание 24В
44. В монитор порта должны приходить температуры обоих датчиков
    раз в секунду, два целых числа через пробел
45. Сфотографировать температуры, пришедшие за 10 секунд
46. Отправить символ 's' в монитор порта
47. Подождать 10 секунд, сфотографировать новые температуры
48. Не дольше чем через 45 секунд LED1 на управляющей плате должен светиться постоянно
49. Отключить питание

### Сценарий 2: Тестирование сборки плат под номинальной нагрузкой (реальные режимы)
\\2|

Номера групп подключений: 1.1, 1.2, 1.3, 1.4

**Прошивки:**

**Master:**
- master_020

**Slave:**
- slave_020

**Ожидаемые результаты:**
- Стабильная работа всех модулей при номинальных нагрузках.
- Корректная работа всех исполнительных устройств (моторы, нагреватели, датчики).
- Отсутствие перегрева и срабатываний защит.

**Шаги:**
1. Загрузить прошивку **master_020** в Master-плату.
2. Загрузить в дочерние платы прошивки: 
**slave_021_digit_load**
**slave_021_step_load**

УВТ

1. Подключить компоненты согласно схеме подключения 1.1
2. Подать питание 24В на материнскую плату; двигатели должны начать работать
3. В течение 3х минут проверять:
    1. Шаги не пропускаются, звук движения не изменился
    2. Тепловизиром не видно нагревов
4. Снять питание с линии 24В

Нарезка
1. Подключить компоненты согласно схеме подключения 1.2
2. Загрузить в дочерние платы прошивки:
- **slave_021_step_load**
- **slave_022_dc_load**
- **slave_QR_load**
3. Подать питание 24В на материнскую плату; двигатели должны начать работать
4. Закрепить QR код напротив сканера (подсветка сканера должна начать мигать зелёным)
5. В течение 3х минут проверять:
    1. Шаги не пропускаются, звук движения не изменился
    2. Тепловизиром не видно нагревов
6. Снять питание с линии 24В

Упаковка
1. Подключить компоненты согласно схеме подключения 1.3
2. Загрузить в дочерние платы прошивки:
- **slave_021_step_load**
- **slave_022_dc_load**
3. Подать питание 24В на материнскую плату; двигатели должны начать работать
4. В течение 3х минут проверять:
    1. Шаги не пропускаются, звук движения не изменился
    2. Тепловизиром не видно нагревов
5. Снять питание с линии 24В

Печь
1. Подключить компоненты согласно схеме подключения 1.4
2. Загрузить в дочерние платы прошивки:
- **slave_024_1_triac_load** (в 1-ю симисторную плату)
- **slave_024_2_triac_load** (в 2-ю симисторную плату)
- **slave_024_analog_load**
3. Подать питание 24В на материнскую плату; вентиляторы должны начать вращаться; спирали печи должны начать нагреваться
4. В течение 3х минут проверять:
    1. Вентиляторы работают без изменений, шумов/пропусков нет
    2. Спирали работают в течение минуты
    3. Тепловизиром не видно нагревов
5. Снять питание с линии 24В


### Сценарий 3: Тестирование сборки плат под максимально допустимой нагрузкой (сборка MAX) + влияние на датчики + влияние на сигнальные линии
\\3|

Номер группы подключений: 1.5

**Прошивки\функции:**

**Master:**
- master_030

**Slave:**
- slave_030

**Ожидаемые результаты:**
- Стабильная работа системы при одновременной максимальной загрузке всех исполнительных механизмов (двигатели, нагреватели) и датчиков.
- Минимальное влияние силовых потребителей на точность показаний датчиков.
- Отсутствие искажений и помех на сигнальных линиях, связанных с работой силовых элементов.

**Шаги:**
1. Загрузить прошивку **master_030** в Master-плату.
2. Загрузить в дочерние платы прошивки: 
**slave_030_triac_load**
**slave_030_analog_load**
**slave_030_digit_load**
**slave_030_dc_load**
**slave_030_step_load**
**slave_QR_load**

3. Подключить компоненты согласно схеме подключения 1.5, подключить 2 платы светодиодов\фототранзисторов, вставив их в специальный стенд для установки плат светодиодов и фотоитранзисторов
4. Подключить к USB порту Master-платы ПК и открыть терминал для обмена командами по UART
5. Подать питание 24В на материнскую плату; на управляющей плате LED1 должен мигать раз в секунду
6. Замерить напряжение на контактах J26\J27 материнской платы (24В±5%)
7. Отправить 's' в отладочный терминал
8. LED1 на управляющей плате должен начать мигать 10 раз в секунду
9. Во время работы замерить напряжение на контактах J26/J27 материнской платы
10. Спустя 3 минуты LED1 на управляющей плате должен мигать раз в секунду
11. Проверить состояние компонентов плат (пирометром\тепловизором) - схема компонентов в графическом виде приведёна в приложении 1. Если компонент нагрет выше 50°C, пометить его на схеме.
12. Подождать 10 минут, чтобы остудить спирали и платы

13. Отправить 's' в отладочный терминал
14. LED1 на управляющей плате должен начать мигать 10 раз в секунду
15. Во время работы замерить напряжение на контактах J26/J27 материнской платы
16. Спустя 3 минуты LED1 на управляющей плате должен мигать раз в секунду
17. Проверить состояние компонентов плат (пирометром\тепловизором) - схема компонентов в графическом виде приведёна в приложении 1. Если компонент нагрет выше 50°C, пометить его на схеме.
18. Подождать 10 минут, чтобы остудить спирали и платы

19. Отправить 's' в отладочный терминал
20. LED1 на управляющей плате должен начать мигать 10 раз в секунду
21. Во время работы замерить напряжение на контактах J26/J27 материнской платы
22. Спустя 3 минуты LED1 на управляющей плате должен мигать раз в секунду
23. Проверить состояние компонентов плат (пирометром\тепловизором) - схема компонентов в графическом виде приведёна в приложении 1. Если компонент нагрет выше 50°C, пометить его на схеме.
24. Снять питания с линии 24В.

### Сценарий 4: Проверка устойчивости при колебаниях напряжения + при экстремальных отклонениях + обратной полярности
\\4|

Номер группы подключений: 1.5

**Прошивки\функции:**

**Master:**
- master_040

**Slave:**
- slave_parad

**Ожидаемые результаты:**

 - Стабильная работа системы в диапазоне ±5% от номинального напряжения (22.8В - 25.2В). Показания датчиков должны отклоняться не более чем на 2% от значений, измеренных при 24В.
- Срабатывание защиты при ±25% отклонения напряжения, без повреждений компонентов.
- Срабатывание защиты от обратной полярности, компоненты не повреждены.
- В случае обратной полярности все системы должны отключиться, не должно быть белого дыма.

**Шаги:**

1. Загрузить прошивку master_040 в Master-плату
2. Загрузить в дочерние платы **slave_parad**
3. Подключить всё в соответствии со схемой группы 1.5
4. Подключить к USB порту Master-платы ПК и открыть терминал для обмена командами по UART
5. Перед подачей питания потренироваться вращать ручку изменения напряжения в заданных пределах (22-26В)
6. Подать питание 24В на материнскую плату; на управляющей плате LED1 должен мигать раз в секунду
7. Последить за сборкой в течение 60 сек
8. Плавно изменять уровень напряжения в диапазоне 22-26В на протяжении 60 сек
9. Наблюдать, изменилось ли поведение в сравнении с предыдущей итерацией (субъективные ощущения: быстрее\медленнее, ярче\тусклее etc)
10. Снять питание
11. Посмотреть на плату через тепловизор (пометить на файле приложения наиболее горячие компоненты)
12. Выставить напряжение 18В
13. Подать питание на материнскую плату
14. Наблюдать, изменилось ли поведение в сравнении с предыдущей итерацией (субъективные ощущения: быстрее\медленнее, ярче\тусклее etc). Запустилось ли вообще. 
15. Снять питание
16. Посмотреть на плату через тепловизор (пометить на файле приложения наиболее горячие компоненты)
17. Выставить напряжение 30В
18. Подать питание на материнскую плату
19. Если ничего не вспыхнуло и не задымилось - ожидать 60 сек, иначе снять питание сразу
20. Мультиметром замерить напряжение после предохранителей F1 и F2 (должно быть 0V)
21. Снять питание
22. Посмотреть на плату через тепловизор (пометить на файле приложения наиболее горячие компоненты)
23. Мультиметром в режиме прозвонки убедиться, что предохранители F1 и F2 перегорели
24. Вставить новые предохранители на 5А
25. Выставить напряжение на ИП 24В
26. Подать питание на материнскую плату
27. Последить за сборкой в течение 60 сек
28. Снять питание
29. Посмотреть на плату через тепловизор (пометить на файле приложения наиболее горячие компоненты)
30. Поменять полярность на источнике питания
31. Подать питание 
32. Если ничего не вспыхнуло и не задымилось - ожидать 60 сек, иначе снять питание сразу
33. Мультиметром замерить напряжение после предохранителей F1 и F2 (должно быть 0V)
34. Снять питание
35. Посмотреть на плату через тепловизор (пометить на файле приложения наиболее горячие компоненты)
